{"version":3,"sources":["file:///Users/stevejobs/Documents/GitHub/super-scrollview/assets/scripts/baseMain.ts"],"names":["_decorator","Component","EditBox","director","SuperLayout","BaseItem","ccclass","property","BaseMain","toHeader","layout","scrollToHeader","toFooter","scrollToFooter","toIndex","index","Number","input","string","isNaN","scrollToIndex","toBack","loadScene","onRefreshEvent","item","getComponent","show","datas","onClickItem","bind","splice","total","length","addItem","event","args","count","i","push","message"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,O,OAAAA,O;AAASC,MAAAA,Q,OAAAA,Q;;AACtCC,MAAAA,W,oBAAAA,W;;AACAC,MAAAA,Q,aAAAA,Q;;;;;;;AACDC,MAAAA,O,GAAsBN,U,CAAtBM,O;AAASC,MAAAA,Q,GAAaP,U,CAAbO,Q;;0BAGJC,Q,WADZF,OAAO,CAAC,UAAD,C,UAEHC,QAAQ;AAAA;AAAA,qC,UACRA,QAAQ,CAACL,OAAD,C;;;;;;;;;;;;;;;;kEACgB,E;;;;;;;eAEzBO,Q,GAAA,oBAAW;AACP,eAAKC,MAAL,CAAYC,cAAZ,CAA2B,CAA3B;AACH,S;;eACDC,Q,GAAA,oBAAW;AACP,eAAKF,MAAL,CAAYG,cAAZ,CAA2B,CAA3B;AACH,S;;eACDC,O,GAAA,mBAAU;AACN,cAAIC,KAAK,GAAGC,MAAM,CAAC,KAAKC,KAAL,CAAWC,MAAZ,CAAlB;AACA,cAAIC,KAAK,CAACJ,KAAD,CAAT,EAAkB;AAClB,eAAKL,MAAL,CAAYU,aAAZ,CAA0BL,KAA1B,EAAiC,CAAjC;AACH,S;;eACDM,M,GAAA,kBAAS;AACLlB,UAAAA,QAAQ,CAACmB,SAAT,CAAmB,MAAnB;AACH,S;;eAEDC,c,GAAA,wBAAeC,IAAf,EAA2BT,KAA3B,EAA0C;AAAA;;AACtC,gCAAAS,IAAI,CAACC,YAAL;AAAA;AAAA,6GAA6BC,IAA7B,CAAkC,KAAKC,KAAL,CAAWZ,KAAX,CAAlC,EAAqDA,KAArD,EAA4D,KAAKa,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAA5D;AACH,S;;eACDD,W,GAAA,qBAAYb,KAAZ,EAA2B;AACvB,eAAKY,KAAL,CAAWG,MAAX,CAAkBf,KAAlB,EAAyB,CAAzB;AACA,eAAKL,MAAL,CAAYqB,KAAZ,CAAkB,KAAKJ,KAAL,CAAWK,MAA7B;AACH,S;;eACDC,O,GAAA,iBAAQC,KAAR,EAAoBC,IAApB,EAA+B;AAC3B,cAAIC,KAAK,GAAGpB,MAAM,CAACmB,IAAD,CAAlB;AACA,cAAIhB,KAAK,CAACiB,KAAD,CAAT,EAAkB;;AAClB,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAApB,EAA2BC,CAAC,EAA5B,EAAgC;AAC5B,iBAAKV,KAAL,CAAWW,IAAX,CAAgB;AAAEC,cAAAA,OAAO,EAAE,KAAKZ,KAAL,CAAWK;AAAtB,aAAhB;AACH;;AACD,eAAKtB,MAAL,CAAYqB,KAAZ,CAAkB,KAAKJ,KAAL,CAAWK,MAA7B;AACH,S;;;QAlCyB/B,S","sourcesContent":["\nimport { _decorator, Component, Node, EditBox, director } from 'cc';\nimport { SuperLayout } from '../core/super-layout';\nimport { BaseItem } from './baseItem';\nconst { ccclass, property } = _decorator;\n\n@ccclass('BaseMain')\nexport class BaseMain extends Component {\n    @property(SuperLayout) layout!: SuperLayout\n    @property(EditBox) input!: EditBox\n    protected datas: any[] = []\n\n    toHeader() {\n        this.layout.scrollToHeader(1)\n    }\n    toFooter() {\n        this.layout.scrollToFooter(1)\n    }\n    toIndex() {\n        var index = Number(this.input.string)\n        if (isNaN(index)) return\n        this.layout.scrollToIndex(index, 1)\n    }\n    toBack() {\n        director.loadScene(\"main\")\n    }\n\n    onRefreshEvent(item: Node, index: number) {\n        item.getComponent(BaseItem)?.show(this.datas[index], index, this.onClickItem.bind(this))\n    }\n    onClickItem(index: number) {\n        this.datas.splice(index, 1)\n        this.layout.total(this.datas.length)\n    }\n    addItem(event: any, args: any) {\n        let count = Number(args)\n        if (isNaN(count)) return\n        for (let i = 0; i < count; i++) {\n            this.datas.push({ message: this.datas.length })\n        }\n        this.layout.total(this.datas.length)\n    }\n}\n"]}